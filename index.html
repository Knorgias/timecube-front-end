<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="import" href="./my_components/zeus-element.html">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script>
      function loginUser(){
        var account = '{ "username":"fred","password":"abc"}';
        //account = JSON.stringify(account);
        //ajaxData("GET", "http://localhost:8083/login", "go", account);
//        basicTest();
//        basicTestPost();
        ajaxData();
      }
      function basicTestPost(){
        alert("postbasic test");
        xhr= new XMLHttpRequest();
        xhr.onreadystatechange = function() {
          if (this.readyState == 4 && this.status == 200) {
            alert(xhr.responseText);
          }
        };
        xhr.open("POST", "http://localhost:8083/logintest", true);
        xhr.setRequestHeader("Content-type", "application/json");
        xhr.send('{"username":"fred"}');
      }
      function basicTest(){
        xhr= new XMLHttpRequest();
        xhr.onreadystatechange = function() {
          if (this.readyState == 4 && this.status == 200) {
            alert(xhr.responseText);
          }
        };
        xhr.open("GET", "http://localhost:8083/login", true);
        xhr.send();
      }

 //     function ajaxData(typeRequest, url, callback, objectToSend){
        function ajaxData(){
        var data={};
        data.username = document.getElementById("username").value;
        data.password = document.getElementById("password").value;
        data = JSON.stringify(data);
        $.ajax({
          url: "http://localhost:8083/login",
          data: data,
          type: "POST",
          beforeSend: function(xhr){xhr.setRequestHeader('Content-type', 'application/json');},
          success: function(data) { console.log(data); }
        });
      }
    </script>

    <link href="./css/bootstrap-datetimepicker.css" rel="stylesheet" media="screen">
        <!-- Favicon code -->
        <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
        <link rel="manifest" href="/favicon/site.webmanifest">
        <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#5bbad5">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="theme-color" content="#ffffff">
        <!-- Favicon code END -->
    <title>TimeCube</title>
  </head>

  <body>
    <!-- My Navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
          <div class="navbar-header">
            <a class="navbar-brand" href="/index.html">TimeCube</a>
          </div>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="/my-signup.html"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
          </ul>
        </div>
      </nav>
      <br>
      <!-- My Navbar END -->

      <!-- My Header -->
      <div class="page-header text-center">
          <h1>Welcome to TimeCube! Your professional daily hour registration website.</h1>
      </div>
      <!-- My Header END -->
      <!-- My Login form -->
      <div class="container col-md-4 col-md-offset-4">
        <div class="panel panel-primary">
          <div class="panel-heading">Login with your credentials</div>
          <br>
          <div class="panel-body">
          <!--  <form action="/my-days-overview.html">-->
              <div class="input-group">
                <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                <input type="text" class="form-control" id="username" placeholder="Username" name="username">
              </div>
              <br><br>
              <div class="input-group">
                  <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>       
                  <input type="password" class="form-control" id="password" placeholder="Password" name="password">
              </div>
              <br>
              <div class="text-center">
                    <label><input type="checkbox" name="remember"> Remember me</label>
              </div>
              <br>
              <div class="text-center">
                  <button type="submit" class="btn btn-primary btn-lg" onclick="loginUser()">Login</button>
              </div>
<!--            </form>  -->
          </div>
        </div>
      </div>
      <!-- My Login form END -->
  </body>
</html>
